<div style="width: 600px; margin: auto">
  <div class="submit-form">
    <div *ngIf="!submitted">
      <form [formGroup]="productForm">
        <div class="form-group">
          <label for="title">Name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            [(ngModel)]="product.name"
            formControlName="name"
            name="name"
            required
          />

          <span
            class="alert-danger"
            *ngIf="productForm.get('name')?.hasError('required')"
          >
            This field cannot be blank.
          </span>
        </div>

        <div class="form-group">
          <label for="description">Code</label>
          <input
            class="form-control"
            id="code"
            required
            [(ngModel)]="product.code"
            formControlName="code"
            name="code"
          />

          <span
            class="alert-danger"
            *ngIf="productForm.get('code')?.hasError('required')"
          >
            This field cannot be blank.
          </span>
        </div>

        <div class="form-group">
          <label for="description">Category</label>
          <select
            name="category"
            [(ngModel)]="product.category"
            required
            formControlName="category"
            class="form-control"
          >
            <option *ngFor="let item of categories" [value]="item.id">
              {{ item.name }}
            </option>
          </select>

          <span
            class="alert-danger"
            *ngIf="productForm.get('category')?.hasError('required')"
          >
            This field cannot be blank.
          </span>
        </div>

        <button (click)="saveProduct()" class="btn btn-success">Submit</button>
      </form>
    </div>

    <div *ngIf="showError" class="alert alert-danger" role="alert">
      <h4>{{ errorMessage }}</h4>
    </div>

    <div *ngIf="submitted"  class="alert alert-success" role="alert">
      <h4>Product submitted successfully!</h4>
    </div>
  </div>

  <div *ngIf="showLoader">
    <div class="spinner-grow custom-loader" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>
